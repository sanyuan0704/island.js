# è‡ªå®šä¹‰ä¸»é¢˜

import UsePageData from '../fragments/use-page-data.mdx';
import Content from '../fragments/content.mdx';
import RouteHook from '../fragments/route-hook.mdx';

Island.js å†…ç½®ä¸€å¥—å¼€ç®±å³ç”¨çš„é»˜è®¤ä¸»é¢˜ï¼Œä¸”å†…éƒ¨çš„ç»„ä»¶ä¹Ÿæä¾›äº†é…ç½®æ¥è‡ªå®šä¹‰ï¼ŒåŒ…æ‹¬:

- [å¯¼èˆªæ ](/zh/guide/navbar)
- [Home ä¸»é¡µ](/zh/guide/home-page)
- [API é¢„è§ˆé¡µ](/zh/guide/api-page)
- [æ­£æ–‡é¡µé¢](/zh/guide/doc-page)
- [å›½é™…åŒ–æ¨¡å—](/zh/guide/i18n)
- [å…¨æ–‡æœç´¢æ¨¡å—](/zh/guide/search)

ä½ å¯ä»¥ç‚¹è¿›å¯¹åº”çš„é¡µé¢æŸ¥çœ‹å…·ä½“çš„é…ç½®é¡¹ã€‚æœ¬æ–‡æ‰€è¦ä»‹ç»çš„æ˜¯å¦‚ä½•å¼€å‘ä¸€ä¸ªè‡ªå®šä¹‰ä¸»é¢˜ã€‚

## åŸºäºé»˜è®¤ä¸»é¢˜çš„æ‰©å±•

å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ å¹¶ä¸æƒ³ä»é›¶å¼€å§‹å¼€å‘ä¸€ä¸ªä¸»é¢˜ï¼Œè€Œæ˜¯æƒ³åŸºäºé»˜è®¤ä¸»é¢˜è¿›è¡Œæ‰©å±•ï¼Œè¿™æ—¶å€™å¯ä»¥å‚è€ƒä¸‹é¢çš„æ–¹å¼è¿›è¡Œä¸»é¢˜å¼€å‘ã€‚

:::tip
å¦‚æœä½ æƒ³ä»å¤´å¼€å‘ä¸€ä¸ªè‡ªå®šä¹‰ä¸»é¢˜ï¼Œå¯ä»¥å‰å¾€[ã€é‡æ–°å¼€å‘è‡ªå®šä¹‰ä¸»é¢˜ã€‘](/zh/guide/custom-theme#é‡æ–°å¼€å‘è‡ªå®šä¹‰ä¸»é¢˜)ã€‚
:::

### 1. åŸºæœ¬ç»“æ„

é»˜è®¤æƒ…å†µä¸‹ï¼Œä½ éœ€è¦åœ¨ `.island` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `theme` ç›®å½•ï¼Œç„¶ååœ¨è¿™ä¸ªç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `index.ts(x)` æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ä½ çš„ä¸»é¢˜å…¥å£æ–‡ä»¶:

```bash
.island
â”œâ”€â”€ config.ts
â””â”€â”€ theme
    â””â”€â”€ index.tsx
```

ä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ–¹å¼æ¥ä¹¦å†™ `theme/index.tsx` æ–‡ä»¶:

```ts
// `theme/index.tsx`
import React from 'react';
import {
  Layout as DefaultLayout,
  NotFoundLayout,
  HomeLayout,
  setup
} from 'islandjs/theme';
// æ·»åŠ ä¸€äº›è‡ªå®šä¹‰çš„æ ·å¼
import './custom.css';

const Layout = () => <DefaultLayout beforeHero={<div>beforeHero</div>} />;

// å¯¼å‡ºä¸‰ä¸ªç»„ä»¶å’Œ setup å‡½æ•°
export { Layout, HomeLayout, NotFoundLayout, setup };
```

å¯ä»¥çœ‹åˆ°ï¼Œä½ èƒ½ä»`islandjs/theme`ä¸­è·å–å¹¶å¯¼å‡ºé»˜è®¤ä¸»é¢˜çš„å„ä¸ªç»„ä»¶ï¼ŒåŒ…æ‹¬:

- **Layout ç»„ä»¶**ï¼Œé¡µé¢çš„å¸ƒå±€ç»„ä»¶
- **HomeLayout ç»„ä»¶**ï¼Œé¦–é¡µçš„å¸ƒå±€ç»„ä»¶ï¼Œè¢« Layout ç»„ä»¶ä½¿ç”¨
- **NotFoundLayout ç»„ä»¶**ï¼Œ404 é¡µé¢çš„å¸ƒå±€ç»„ä»¶ï¼Œè¢« Layout ç»„ä»¶ä½¿ç”¨
- è¿˜åŒ…æ‹¬ **setup å‡½æ•°**ï¼Œç”¨æ¥æ·»åŠ ä¸€ä¸ªåˆå§‹åŒ–çš„é€»è¾‘ï¼Œæ¯”å¦‚å…¨å±€äº‹ä»¶ç»‘å®šï¼Œå¿…é¡»å¯¼å‡º

### 2. ä½¿ç”¨æ’æ§½

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒLayout ç»„ä»¶è®¾è®¡äº†ä¸€ç³»åˆ—çš„ props æ”¯æŒæ’æ§½å…ƒç´ ï¼Œä½ å¯ä»¥é€šè¿‡è¿™äº› props æ¥æ‰©å±•é»˜è®¤ä¸»é¢˜çš„å¸ƒå±€ï¼Œæ¯”å¦‚å°†ä¸Šé¢çš„ Layout ç»„ä»¶æ”¹æˆå¦‚ä¸‹çš„å½¢å¼:

```tsx
import { Layout as DefaultLayout } from 'islandjs/theme';

// ä»¥ä¸‹å±•ç¤ºæ‰€æœ‰çš„ Props
const Layout = () => (
  <DefaultLayout
    /* Home é¡µ Hero éƒ¨åˆ†ä¹‹å‰ */
    beforeHero={<div>beforeHero</div>}
    /* Home é¡µ Hero éƒ¨åˆ†ä¹‹å */
    afterHero={<div>afterHero</div>}
    /* Home é¡µ Features éƒ¨åˆ†ä¹‹å‰ */
    beforeFeatures={<div>beforeFeatures</div>}
    /* Home é¡µ Features éƒ¨åˆ†ä¹‹å */
    afterFeatures={<div>afterFeatures</div>}
    /* æ­£æ–‡é¡µ Footer éƒ¨åˆ†ä¹‹å‰ */
    beforeDocFooter={<div>beforeDocFooter</div>}
    /* æ­£æ–‡é¡µæœ€å‰é¢ */
    beforeDoc={<div>beforeDoc</div>}
    /* æ­£æ–‡é¡µæœ€åé¢ */
    afterDoc={<div>afterDoc</div>}
    /* å·¦ä¸Šè§’å¯¼èˆªæ æ ‡é¢˜ä¹‹å‰ */
    beforeNavTitle={<span>ğŸ˜„</span>}
    /* å·¦ä¸Šè§’å¯¼èˆªæ æ ‡é¢˜ä¹‹å */
    afterNavTitle={<div>afterNavTitle</div>}
    /* å³ä¾§å¤§çº²æ ä¸Šé¢ */
    beforeOutline={<div>beforeOutline</div>}
    /* å³ä¾§å¤§çº²æ ä¸‹é¢ */
    afterOutline={<div>afterOutline</div>}
    /* æ•´ä¸ªé¡µé¢æœ€é¡¶éƒ¨ */
    top={<div>top</div>}
    /* æ•´ä¸ªé¡µé¢æœ€åº•éƒ¨ */
    bottom={<div>bottom</div>}
  />
);
```

### 3. è‡ªå®šä¹‰ç»„ä»¶

è¦æ‰©å±•é»˜è®¤ä¸»é¢˜çš„ç»„ä»¶ï¼Œé™¤äº†æ’æ§½ï¼Œä½ è¿˜å¯ä»¥è‡ªå®šä¹‰ Home é¡µé¢åŠ 404 é¡µé¢ç»„ä»¶ï¼Œæ¯”å¦‚:

```tsx
import { Layout, setup } from 'islandjs/theme';
// å®šåˆ¶ Home é¡µé¢
const HomeLayout = () => <div>Home</div>;
// å®šåˆ¶ 404 é¡µé¢
const NotFoundLayout = () => <div>404</div>;

export { Layout, HomeLayout, NotFoundLayout, setup };
```

å½“ç„¶ï¼Œåœ¨å¼€å‘è¿‡ç¨‹å¯èƒ½éœ€è¦ä½¿ç”¨é¡µé¢çš„æ•°æ®ï¼Œä½ å¯ä»¥é€šè¿‡ [`usePageData`](/zh/guide/custom-theme#usepagedata) è¿™ä¸ª Hook æ¥è·å–ã€‚

## é‡æ–°å¼€å‘è‡ªå®šä¹‰ä¸»é¢˜

### 1. åŸºæœ¬ç»“æ„

å½“ç„¶ï¼Œå¦‚æœä½ è¦ä»å¤´å¼€å§‹å¼€å‘ä¸€ä¸ªè‡ªå®šä¹‰ä¸»é¢˜ï¼Œä½ éœ€è¦äº†è§£ä¸€ä¸‹ä¸»é¢˜çš„ç»„æˆã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œä½ éœ€è¦åœ¨ `.island` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `theme` ç›®å½•ï¼Œç„¶ååœ¨è¿™ä¸ªç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `index.ts(x)` æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ä½ çš„ä¸»é¢˜å…¥å£æ–‡ä»¶:

```bash
.island
â”œâ”€â”€ config.ts
â””â”€â”€ theme
    â””â”€â”€ index.tsx
```

åœ¨`theme/index.tsx`æ–‡ä»¶ä¸­ï¼Œä½ éœ€è¦å¯¼å‡ºä¸€ä¸ª Layout ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶å°±æ˜¯ä½ çš„ä¸»é¢˜çš„å…¥å£ç»„ä»¶:

```ts
// theme/index.tsx
function Layout() {
  return <div>Custom Theme Layout</div>;
}

// setup å‡½æ•°ï¼Œä¼šåœ¨é¡µé¢åˆå§‹åŒ–æ—¶è°ƒç”¨ï¼Œä¸€èˆ¬ç”¨æ¥åšå…¨å±€äº‹ä»¶çš„ç›‘å¬ï¼Œå¯ä¸ºç©ºå‡½æ•°
const setup = () => {};

// å¯¼å‡º Layout ç»„ä»¶å’Œ setup å‡½æ•°
// ä¸¤è€…å¿…é¡»å¯¼å‡º
export { Layout, setup };
```

è¿™ä¸ª Layout ç»„ä»¶ä¼šè¢« Island.js ç”¨æ¥æ¸²æŸ“æ•´ä¸ªæ–‡æ¡£ç«™ç‚¹çš„å¸ƒå±€ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ªç»„ä»¶ä¸­å¼•å…¥ä½ çš„è‡ªå®šä¹‰ç»„ä»¶ï¼Œæ¯”å¦‚:

```ts
// theme/index.tsx
import { Navbar } from './Navbar';

function Layout() {
  return (
    <div>
      <Navbar />
      <div>Custom Theme Layout</div>
    </div>
  );
}

export { Layout };

// theme/Navbar.tsx
export function Navbar() {
  return <div>Custom Navbar</div>;
}
```

é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸»é¢˜ç»„ä»¶æ˜¯å¦‚ä½•è·å–é¡µé¢æ•°æ®å’Œæ­£æ–‡ MDX ç»„ä»¶å†…å®¹çš„å‘¢ï¼Ÿè¿™å°±éœ€è¦ç”¨åˆ° Island.js çš„ `Runtime API` äº†ã€‚

### 2. æ¥å…¥ Runtime API

åœ¨ä¸»é¢˜å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦å¦‚ä¸‹çš„ä¸€äº›å…³é”® API:

#### usePageData

<UsePageData />

#### Content

<Content />

#### è·¯ç”± Hook

<RouteHook />
